# Social Media Content: ADR-007 Template Management Tooling

Launch date: 2026-01-05

---

## Twitter/X Threads

### Thread 1: Announcement (Main)

**Tweet 1/5:**
We just shipped template management tooling for @aabordedev's Railway templates.

A single Python CLI with 3 validation levels, Claude Code skill integration, and security hardening.

Here's what we built and why:

**Tweet 2/5:**
The problem: Managing templates.yaml by hand was error-prone.

- Nested YAML is easy to mess up
- New contributors didn't know required fields
- Errors only surfaced in CI

We needed tooling for both humans AND LLMs.

**Tweet 3/5:**
The solution: One CLI, multiple interfaces.

```
python template_manager.py validate --deep
python template_manager.py add --id my-template ...
python template_manager.py list --format json
```

Same code powers:
- make validate
- Claude Code skill
- Pre-commit hooks

**Tweet 4/5:**
Three validation levels:

L1: Schema (JSON Schema conformance)
L2: Semantic (unique IDs, valid refs)
L3: Network (URL reachability) --deep only

Fast checks always run. Slow checks are opt-in.

**Tweet 5/5:**
Security hardening for LLM-assisted editing:

- Input validation (regex patterns)
- Symlink rejection (O_NOFOLLOW)
- YAML duplicate key rejection
- Atomic writes (temp + rename)

LLMs need guardrails.

Blog post: [link]
Code: [link]

---

### Thread 2: Technical Deep Dive

**Tweet 1/4:**
How we hardened our CLI against LLM-generated input:

1. GitHub owner/repo regex validation
2. O_NOFOLLOW to reject symlinks atomically
3. allow_duplicate_keys=False in ruamel.yaml
4. tempfile.mkstemp() + os.replace() for atomic writes

**Tweet 2/4:**
The symlink trick:

```python
fd = os.open(path, os.O_RDONLY | os.O_NOFOLLOW)
```

This atomically rejects symlinks at the kernel level.

No TOCTOU race between checking is_symlink() and opening the file.

**Tweet 3/4:**
Why three validation levels?

Schema validation: 50ms
Semantic validation: 100ms
Network checks: 5-30 seconds

You don't want to wait 30s on every save. --deep is for CI and pre-release.

**Tweet 4/4:**
54 tests. 1,053 lines of Python. 4 phases. 16 GitHub issues.

All tracked with TDD and LLM Council verification.

The tooling now manages itself.

---

## LinkedIn Post

**Title:** Building Developer Tools That Work for Both Humans and LLMs

We just shipped ADR-007: Template Management Tooling for the Amiable Templates project.

**The Challenge:**
Our Railway template registry (templates.yaml) was growing, but managing it manually was painful. Nested YAML structures, undiscoverable fields, and validation that only ran in CI.

**The Solution:**
A hybrid approach with three interfaces to one CLI:
- Makefile targets for automation
- Claude Code skill for LLM-assisted editing
- Pre-commit hooks for local validation

**Key Design Decisions:**

1. **Single Source of Truth**: One Python CLI (template_manager.py) powers everything. Skills and Makefile are just wrappers.

2. **Tiered Validation**: Fast schema/semantic checks always run. Slow network checks are opt-in with --deep.

3. **Security Hardening**: LLMs can generate malformed input. We added regex validation, symlink rejection, and atomic writes.

4. **Test-Driven Development**: 54 tests covering all operations, with LLM Council verification for security review.

**Results:**
- 4 implementation phases
- 16 GitHub issues tracked and closed
- 3 validation levels
- Full Claude Code integration

The tooling now manages itselfâ€”we used Claude Code with the skill to add the final templates.

Blog post in comments.

#DeveloperExperience #DevTools #Python #LLM #ClaudeCode #Railway

---

## Short Tweets (Standalone)

### Announcement
Just shipped: Template management CLI with Claude Code skill integration.

One CLI. Three validation levels. Security hardened for LLM-assisted editing.

[link to blog]

### Technical
TIL: os.open() with O_NOFOLLOW atomically rejects symlinks at the kernel level.

No TOCTOU race. Perfect for CLI tools that need to reject symlinks safely.

### Quote Tweet / Reply Bait
What's your strategy for validating LLM-generated config files?

We went with:
- Schema validation (structure)
- Semantic validation (references)
- Network validation (reachability)

All through one CLI.

### Meme-able
POV: You let an LLM edit your YAML without validation

vs

POV: You built a 3-level validation CLI first

---

## Hashtags

Primary: #DevTools #Python #CLI #DeveloperExperience
Secondary: #LLM #ClaudeCode #Railway #YAML #OpenSource
Technical: #TDD #Security #Automation

---

## Links to Include

- Blog post: https://amiable-dev.github.io/amiable-templates/blog/2026/01/05/adr-007-template-management-tooling/
- ADR-007: https://github.com/amiable-dev/amiable-templates/blob/main/docs/adrs/ADR-007-template-management-tooling.md
- CLI source: https://github.com/amiable-dev/amiable-templates/blob/main/scripts/template_manager.py
- Template guide: https://github.com/amiable-dev/amiable-templates/blob/main/docs/TEMPLATE_MANAGEMENT.md
